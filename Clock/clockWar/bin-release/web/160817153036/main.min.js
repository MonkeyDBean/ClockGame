var AssetAdapter=function(){function e(){}var t=(__define,e),i=t.prototype;return i.getAsset=function(e,t,i){function n(n){t.call(i,n,e)}if(RES.hasRes(e)){var o=RES.getRes(e);o?n(o):RES.getResAsync(e,n,this)}else RES.getResByUrl(e,n,this,RES.ResourceItem.TYPE_IMAGE)},e}();egret.registerClass(AssetAdapter,"AssetAdapter",["eui.IAssetAdapter"]);var LoadingUI=function(e){function t(){e.call(this),this.createView()}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},n.setProgress=function(e,t){this.textField.text="Loading..."+e+"/"+t},t}(egret.Sprite);egret.registerClass(LoadingUI,"LoadingUI");var Main=function(e){function t(){e.apply(this,arguments),this.isThemeLoadEnd=!1,this.isResourceLoadEnd=!1}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this);var t=new AssetAdapter;this.stage.registerImplementation("eui.IAssetAdapter",t),this.stage.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},n.onConfigComplete=function(e){var i={appId:Info.appDataEyeId};DCAgent.init(i),DCAgent.onEvent("normal_Loading_Enter"),AnchorUtil.init(),t.gameLayer=new egret.DisplayObjectContainer,this.addChild(t.gameLayer),t.euiLayer=new eui.UILayer,this.addChild(t.euiLayer),RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);var n=new eui.Theme("resource/default.thm.json",this.stage);n.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.loadGroup("preload")},n.onThemeLoadComplete=function(){this.isThemeLoadEnd=!0,this.createScene()},n.onResourceLoadComplete=function(e){"loading"==e.groupName&&(DialogManager.open(LoadingView,"LoadingView",1),RES.loadGroup("preload"),Advert.getInstance().Init()),"preload"==e.groupName&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),this.isResourceLoadEnd=!0,this.createScene())},n.createScene=function(){this.isThemeLoadEnd&&this.isResourceLoadEnd&&this.startCreateScene()},n.onResourceLoadError=function(e){console.warn("Group:"+e.groupName+" has failed to load"),this.onResourceLoadComplete(e)},n.startCreateScene=function(){this.Init()},n.Init=function(){DialogManager.open(GameView,"GameView",1),GameController.getInstance().Init()},t}(eui.UILayer);egret.registerClass(Main,"Main");var Clock=function(e){function t(){e.call(this),this.init()}__extends(t,e);var i=(__define,t),n=i.prototype;return n.init=function(){this.activePoint=!1,this.bg=new eui.Image,this.clockPoint=new eui.Image,this.bg.source="clockBgWhite",this.clockPoint.source="clockPointBlue",this.randomSize=Math.ceil(3*Math.random()),this.randomSpeed=Math.ceil(3*Math.random()),this.randomWise=Math.ceil(2*Math.random()),1==this.randomSize?(this.width=80,this.height=80,this.bg.width=80,this.bg.height=80,this.clockPoint.width=80,this.clockPoint.height=80):2==this.randomSize?(this.width=120,this.height=120,this.bg.width=120,this.bg.height=120,this.clockPoint.width=120,this.clockPoint.height=120):3==this.randomSize&&(this.width=160,this.height=160,this.bg.width=160,this.bg.height=160,this.clockPoint.width=160,this.clockPoint.height=160),1==this.randomSpeed?this.randomSpeed=450:2==this.randomSpeed?this.randomSpeed=360:3==this.randomSpeed&&(this.randomSpeed=300),2==this.randomWise&&(this.randomWise=-1),this.bg.x=0,this.bg.y=0,this.addChild(this.bg),this.clockPoint.anchorOffsetX=this.clockPoint.width/2,this.clockPoint.anchorOffsetY=this.clockPoint.height/2,this.clockPoint.x=this.width/2,this.clockPoint.y=this.height/2,this.addChild(this.clockPoint),this.addEventListener(egret.Event.ENTER_FRAME,this.clockFrameHandler,this)},n.clockFrameHandler=function(){this.clockPoint.rotation+=this.randomWise*this.randomSpeed*GameController.getInstance().durTime},n.removeFrameHandler=function(){this.removeEventListener(egret.Event.ENTER_FRAME,this.clockFrameHandler,this)},t}(eui.Group);egret.registerClass(Clock,"Clock");var GameController=function(){function e(){}var t=(__define,e),i=t.prototype;return e.getInstance=function(){return null==this.instance&&(this.instance=new e),this.instance},i.Init=function(){this._stageJson=RES.getRes("stageJson"),this.data={originalScore:0,finalScore:0,scientificScore:0,guestScore:0},this.maxLevel=this._stageJson.maxLevel,this.StartGame()},i.StartGame=function(){this.myScore=0,GameView.m_UI.myScore.text="Score : "+e.getInstance().myScore,this.touchMove=!1,this.curLevel=1,this.smallBall=new SmallBall,this.mapLevel=new MapLevel,Main.euiLayer.addChild(this.mapLevel),this.beginTime=egret.getTimer(),this.endTime=egret.getTimer(),Main.euiLayer.addEventListener(egret.Event.ENTER_FRAME,this.GameFrameHandler,this),Main.euiLayer.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchEvent,this),GameView.m_UI.nextLevelText.text="Level 1",GameView.m_UI.nextLevelText.visible=!0,Main.euiLayer.addChild(GameView.m_UI.nextLevelText),egret.setTimeout(function(){GameView.m_UI.nextLevelText.visible=!1},this,1e3)},i.GameFrameHandler=function(){this.endTime=this.beginTime,this.beginTime=egret.getTimer(),this.durTime=(this.beginTime-this.endTime)/1e3,this.touchMove&&(this.smallBall.x+=this.smallBall.moveSpeed*Math.cos(this.smallBall.smallBallAngle),this.smallBall.y+=this.smallBall.moveSpeed*Math.sin(this.smallBall.smallBallAngle)),0==this.mapLevel.clockArray.length&&(this.touchMove=!1,Main.euiLayer.removeChild(this.smallBall),this.curLevel++,this.curLevel<=this.maxLevel?(this.mapLevel.readMap(),GameView.m_UI.nextLevelText.text="Level "+this.curLevel,GameView.m_UI.nextLevelText.visible=!0,Main.euiLayer.addChild(GameView.m_UI.nextLevelText),egret.setTimeout(function(){GameView.m_UI.nextLevelText.visible=!1},this,1e3)):(Main.euiLayer.removeEventListener(egret.Event.ENTER_FRAME,this.GameFrameHandler,this),Main.euiLayer.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchEvent,this),this.mapLevel.removeCollisionFrame(),Main.euiLayer.removeChild(this.mapLevel),GameView.m_UI.winText.visible=!0)),(this.smallBall.x<0||this.smallBall.x>640||this.smallBall.y<0||this.smallBall.y>960)&&this.gameFailure()},i.restartEvent=function(){GameView.m_UI.gameOverText.visible=!1,GameView.m_UI.restart.visible=!1,GameView.m_UI.restart.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.restartEvent,this),this.StartGame()},i.touchEvent=function(){if(0==this.touchMove){for(var e=0;e<this.mapLevel.clockArray.length;e++)if(this.mapLevel.clockArray[e].activePoint){var t=this.mapLevel.clockArray[e].localToGlobal(this.mapLevel.clockArray[e].clockPoint.x,this.mapLevel.clockArray[e].clockPoint.y),i=this.mapLevel.globalToLocal(t.x,t.y);this.smallBall.x=i.x,this.smallBall.y=i.y,this.smallBall.smallBallAngle=this.mapLevel.clockArray[e].clockPoint.rotation,this.smallBall.smallBallAngle<0&&(this.smallBall.smallBallAngle+=360),this.smallBall.smallBallAngle=this.smallBall.smallBallAngle*Math.PI/180,Main.euiLayer.addChild(this.smallBall),this.mapLevel.clockArray[e].bg.parent&&this.mapLevel.clockArray[e].bg&&(this.mapLevel.clockArray[e].activePoint=!1,this.mapLevel.clockArray[e].removeFrameHandler(),this.mapLevel.removeChild(this.mapLevel.clockArray[e]),this.mapLevel.clockArray.splice(e,1))}this.touchMove=!0}},i.gameFailure=function(){Main.euiLayer.removeEventListener(egret.Event.ENTER_FRAME,this.GameFrameHandler,this),Main.euiLayer.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchEvent,this),this.touchMove=!1,this.mapLevel.removeCollisionFrame(),Main.euiLayer.removeChild(this.mapLevel),Main.euiLayer.removeChild(this.smallBall),GameView.m_UI.gameOverText.visible=!0,GameView.m_UI.restart.visible=!0,GameView.m_UI.restart.addEventListener(egret.TouchEvent.TOUCH_TAP,this.restartEvent,this)},i.GameOver=function(){Main.euiLayer.removeChildren(),DialogManager.open(EndView,"EndView",1),this.Calculation(),DCAgent.onEvent("normal_Level_Finish")},i.Calculation=function(){Info.SetData(),NetManager.instance.SubmitPlayerScore(this.data.originalScore)},e}();egret.registerClass(GameController,"GameController");var MapLevel=function(e){function t(){e.call(this),this.init()}__extends(t,e);var i=(__define,t),n=i.prototype;return n.init=function(){this.width=960,this.height=640,this.clockArray=new Array,this.readMap()},n.collisionFrameHandler=function(){if(GameController.getInstance().touchMove){if(0==this.clockArray.length)return GameController.getInstance().touchMove=!1,void this.removeCollisionFrame();for(var e=0;e<this.clockArray.length;e++)if(this.hitTest(GameController.getInstance().smallBall,this.clockArray[e].clockPoint)){this.clockArray[e].bg.source="clockBgMy",this.clockArray[e].clockPoint.source="clockPointMy",this.clockArray[e].activePoint=!0,GameController.getInstance().touchMove=!1,Main.euiLayer.removeChild(GameController.getInstance().smallBall),GameController.getInstance().myScore++,GameView.m_UI.myScore.text="Score : "+GameController.getInstance().myScore;break}}},n.readMap=function(){for(var e=GameController.getInstance()._stageJson["Level"+GameController.getInstance().curLevel].clockNum,t=0;e>t;t++){var i=GameController.getInstance()._stageJson["Level"+GameController.getInstance().curLevel].clockPosition[t],n=Math.ceil(4*Math.random());switch(this.clockArray[t]=new Clock,this.addChild(this.clockArray[t]),n){case 1:this.clockArray[t].anchorOffsetX=0,this.clockArray[t].anchorOffsetY=0,this.clockArray[t].x=i%4*160,this.clockArray[t].y=160*Math.floor(i/4);break;case 2:this.clockArray[t].anchorOffsetX=0,this.clockArray[t].anchorOffsetY=this.clockArray[t].height,this.clockArray[t].x=i%4*160,this.clockArray[t].y=160*Math.floor(i/4)+160;break;case 3:this.clockArray[t].anchorOffsetX=this.clockArray[t].width,this.clockArray[t].anchorOffsetY=0,this.clockArray[t].x=i%4*160+160,this.clockArray[t].y=160*Math.floor(i/4);break;case 4:this.clockArray[t].anchorOffsetX=this.clockArray[t].width,this.clockArray[t].anchorOffsetY=this.clockArray[t].height,this.clockArray[t].x=i%4*160+160,this.clockArray[t].y=160*Math.floor(i/4)+160}t==e-1&&(this.clockArray[t].bg.source="clockBgMy",this.clockArray[t].clockPoint.source="clockPointMy",this.clockArray[t].activePoint=!0)}this.addEventListener(egret.Event.ENTER_FRAME,this.collisionFrameHandler,this),Main.euiLayer.addChild(GameView.m_UI.myScore)},n.removeCollisionFrame=function(){this.removeEventListener(egret.Event.ENTER_FRAME,this.collisionFrameHandler,this)},n.hitTest=function(e,t){var i=e.parent.localToGlobal(e.x,e.y),n=t.parent.localToGlobal(t.x,t.y),o=new egret.Rectangle(i.x-e.width/2,i.y-e.height/2,e.width,e.height),a=new egret.Rectangle(n.x-t.width/2,n.y-t.height/2,t.width,t.height);return o.intersects(a)},t}(eui.Group);egret.registerClass(MapLevel,"MapLevel");var SmallBall=function(e){function t(){e.call(this),this.init()}__extends(t,e);var i=(__define,t),n=i.prototype;return n.init=function(){this.moveSpeed=5,this.width=20,this.height=20,this.smallBallImage=new eui.Image,this.smallBallImage.source="pic_smallBall",this.smallBallImage.height=20,this.smallBallImage.width=20,this.smallBallAngle=0,this.smallBallImage.anchorOffsetX=this.smallBallImage.width/2,this.smallBallImage.anchorOffsetY=this.smallBallImage.height/2,this.addChild(this.smallBallImage)},t}(eui.Group);egret.registerClass(SmallBall,"SmallBall");var Advert=function(e){function t(){e.apply(this,arguments),this.advert=null,this.imgs={load:[],game:[],end:[]},this.index=0,this.typeArray=["load","game","end"],this.url="http://www.fcbrains.com",this.isAnimation=!1,this.timeoutIndex=0}__extends(t,e);var i=(__define,t),n=i.prototype;return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},n.Init=function(){this.advert=RES.getRes("advert"),null!=this.advert&&this.GetAdvertImg()},n.GetAdvertImg=function(){return-1==this.advert.app.indexOf(Info.app)?(MyDebug.MyLog("~~这个项目没有广告~~"),void console.log("~~这个项目没有广告~~")):(this.DownLoadImg(),void this.ShowAdvert("load"))},n.DownLoadImg=function(){if(0==this.advert[this.typeArray[0]].imgs.length)return this.typeArray.length>1?(this.typeArray.splice(0,1),void this.DownLoadImg()):void 0;console.warn("~~正在下载广告里的图片 当前是 "+this.typeArray[0]+(this.index+1));var e=this.advert[this.typeArray[0]].imgs[this.index];RES.getResByUrl(e,this.DownLoadImgComplete,this)},n.DownLoadImgComplete=function(e){this.imgs[this.typeArray[0]].push(e),this.index++,this.index<this.advert[this.typeArray[0]].imgs.length?this.DownLoadImg():(this.index=0,this.typeArray.splice(0,1),this.typeArray.length>0?this.DownLoadImg():(console.log("~~广告里的图片 已经下载完毕~~"),console.log(this.imgs.load.length+" "+this.imgs.game.length+" "+this.imgs.end.length)))},n.ShowAdvert=function(e){this.RemoveAdvert(),null!=this.advert&&0!=this.advert[e].imgs.length&&null==this.img&&(console.warn("~~准备添加广告~~"),this.img=new eui.Image,this.url=this.advert[e].url,this.img.source=this.imgs[e][0],this.img.width=this.advert[e].width,this.img.height=this.advert[e].height,this.img.x=this.advert[e].x,this.img.y=this.advert[e].y,this.img.alpha=1,this.img.touchEnabled=!0,this.img.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onAdvertClick,this),Main.gameLayer.addChild(this.img),Main.gameLayer.setChildIndex(this.img,1e4),this.isAnimation=!0,""!=this.advert[e].animation&&this.AdvertTweenAni(e,this.advert[e].animation),this.AdvertAnimation(e))},n.RemoveAdvert=function(){null!=this.img&&(console.warn("~~准备移除广告~~"),this.isAnimation=!1,egret.Tween.removeTweens(this.img),0!=this.timeoutIndex&&egret.clearTimeout(this.timeoutIndex),Main.gameLayer.removeChild(this.img),this.img=null)},n.AdvertAnimation=function(e,t){if(void 0===t&&(t=0),1==this.isAnimation){if(0!=this.timeoutIndex&&egret.clearTimeout(this.timeoutIndex),this.img.texture=this.imgs[e][t%this.advert[e].imgs.length],null!=this.img.texture&&1==this.advert[e].imgs.length)return;t++,this.timeoutIndex=egret.setTimeout(function(){this.AdvertAnimation(e,t)},this,500)}},n.AdvertTweenAni=function(e,t){if("position"==t){var i=this.img.x,n=this.img.y,o=this.advert[e].position.x,a=this.advert[e].position.y,r=this.advert[e].position.time;egret.Tween.get(this.img,{loop:!0}).to({x:o,y:a},r,egret.Ease.quadInOut).wait(200).to({x:i,y:n},r,egret.Ease.quadInOut)}else if("alpha"==t){var r=this.advert[e].alpha.time;egret.Tween.get(this.img,{loop:!0}).to({alpha:0},r).wait(200).to({alpha:1},r)}},n.onAdvertClick=function(){DCAgent.onEvent("normal_Advert_Click"),egret.setTimeout(function(){window.location.href=this.url},this,500)},t}(eui.Group);egret.registerClass(Advert,"Advert");var AnchorUtil=function(){function e(){}var t=(__define,e);t.prototype;return e.init=function(){this._isInited||(this._propertyChange=Object.create(null),this._anchorChange=Object.create(null),this.injectAnchor(),this._isInited=!0)},e.setAnchorX=function(e,t){e.anchorX=t},e.setAnchorY=function(e,t){e.anchorY=t},e.setAnchor=function(e,t){e.anchorX=e.anchorY=t},e.getAnchorX=function(e){return e.anchorX||0},e.getAnchorY=function(e){return e.anchorY||0},e.injectAnchor=function(){Object.defineProperty(egret.DisplayObject.prototype,"width",{get:function(){return this.$getWidth()},set:function(t){var i=this;this.$setWidth(t),e._propertyChange[this.hashCode]=!0,egret.callLater(function(){e.changeAnchor(i)},this)},enumerable:!0,configurable:!0}),Object.defineProperty(egret.DisplayObject.prototype,"height",{get:function(){return this.$getHeight()},set:function(t){var i=this;this.$setHeight(t),e._propertyChange[this.hashCode]=!0,egret.callLater(function(){e.changeAnchor(i)},this)},enumerable:!0,configurable:!0}),Object.defineProperty(egret.DisplayObject.prototype,"anchorX",{get:function(){return this._anchorX},set:function(t){var i=this;this._anchorX=t,e._propertyChange[this.hashCode]=!0,e._anchorChange[this.hashCode]=!0,egret.callLater(function(){e.changeAnchor(i)},this)},enumerable:!0,configurable:!0}),Object.defineProperty(egret.DisplayObject.prototype,"anchorY",{get:function(){return this._anchorY},set:function(t){var i=this;this._anchorY=t,e._propertyChange[this.hashCode]=!0,e._anchorChange[this.hashCode]=!0,egret.callLater(function(){e.changeAnchor(i)},this)},enumerable:!0,configurable:!0}),Object.defineProperty(egret.DisplayObject.prototype,"anchor",{get:function(){return this._anchorX},set:function(t){var i=this;this._anchorX=t,this._anchorY=t,e._propertyChange[this.hashCode]=!0,e._anchorChange[this.hashCode]=!0,egret.callLater(function(){e.changeAnchor(i)},this)},enumerable:!0,configurable:!0})},e.changeAnchor=function(t){e._propertyChange[t.hashCode]&&e._anchorChange[t.hashCode]&&(t.anchorOffsetX=t._anchorX*t.width,t.anchorOffsetY=t._anchorY*t.height,delete e._propertyChange[t.hashCode])},e}();egret.registerClass(AnchorUtil,"AnchorUtil");var AudioManager=function(){function e(){}var t=(__define,e);t.prototype;return e.PlaySound=function(e){""!=e&&null!=e&&(this.sound=RES.getRes(e),this.sound.play())},e}();egret.registerClass(AudioManager,"AudioManager");var DialogManager;!function(e){function t(t,i,n){if(void 0===n&&(n=1),1==n){if(""!=this.moment_dict1&&this.dict1[this.moment_dict1].hide(),null==this.dict1[i]){var o=new t;o.show(),this.dict1[i]=o}else this.dict1[i].showing||this.dict1[i].show();this.moment_dict1=i}else if(2==n){if(""!=this.moment_dict2&&this.dict2[this.moment_dict2].hide(),null==this.dict2[i]){var o=new t;o.show(),this.dict2[i]=o}else this.dict2[i].showing||this.dict2[i].show();this.moment_dict2=i,console.log("当前打开",this.moment_dict2)}else if(3==n){if(""!=this.moment_dict3&&this.dict3[this.moment_dict3].hide(),null==this.dict3[i]){var o=new t;o.show(),this.dict3[i]=o}else this.dict3[i].showing||this.dict3[i].show();this.moment_dict3=i}0==n?null==e.hint&&(e.hint=new t,e.hint.show()):null!=e.hint&&(e.hint.hide(),e.hint.show())}function i(e,t,i){void 0===t&&(t=1),void 0===i&&(i=!1),1==t?null!=this.dict1[e]&&(this.dict1[e].parent&&this.dict1[e].hide(),0==i&&(this.dict1[e]=null)):2==t?null!=this.dict2[e]&&(this.dict2[e].parent&&this.dict2[e].hide(),0==i&&(this.dict2[e]=null)):3==t&&null!=this.dict3[e]&&(this.dict3[e].parent&&this.dict3[e].hide(),0==i&&(this.dict3[e]=null))}e.dict1={},e.dict2={},e.dict3={},e.moment_dict0="",e.moment_dict1="",e.moment_dict2="",e.moment_dict3="",e.open=t,e.remove=i}(DialogManager||(DialogManager={}));var Erweima;!function(e){function t(e){function t(){n(),Main.gameLayer.removeChild(o)}var o=new egret.Shape;o.graphics.beginFill(0,.8),o.graphics.drawRect(0,0,640,960),o.graphics.endFill(),Main.gameLayer.addChild(o),o.touchEnabled=!0,o.addEventListener(egret.TouchEvent.TOUCH_TAP,t,this),i(e)}function i(e){var t=window.innerWidth,i=window.innerHeight,n=document.getElementById("canvasDiv"),o=document.createElement("img");o.width=n.clientWidth/2,o.height=1.17*o.width;var a=t/2-o.width/2,r=i/2-o.height/2;o.id="erweima",o.setAttribute("src","resource/assets/"+e+".png"),o.setAttribute("style","margin:0px;padding:0px;position:absolute;z-index:99999;left:"+a+"px;top:"+r+"px"),document.body.appendChild(o)}function n(){var e=document.getElementById("erweima");document.body.removeChild(e)}e.Show=t}(Erweima||(Erweima={}));var Info;!function(e){function t(){n={or:GameController.getInstance().data.originalScore,fi:GameController.getInstance().data.finalScore,de:{}}}function i(){var e=JSON.stringify(n);return console.log(e),e}e.app="zzwxr",e.appDataEyeId="CDCF60D3DE923D3C5F2362086AD7718AB",e.head="www",e.uid="",e.pass="",e.fid="",e.nickname="",e.sex="",e.add="",e.iconUrl="",e.isLikeServer=!0,e.averageScore=2,e.standardDeviation=2,e.rank="";var n;e.SetData=t,e.GetData=i}(Info||(Info={}));var MyDebug;!function(e){function t(e,t){if(console.warn(e+"  "+t),!(o>6))switch(o){case 1:320>e&&480>t&&o++;break;case 2:320>e&&480>t&&o++;break;case 3:e>320&&480>t&&o++;break;case 4:320>e&&t>480&&o++;break;case 5:320>e&&t>480&&o++;break;case 6:e>320&&t>480&&(o++,i())}}function i(){}function n(e){console.log(e)}e.text="";var o=1;e.GetPoint=t,e.MyLog=n}(MyDebug||(MyDebug={}));var NetAPI;!function(e){function t(){e.api=RES.getRes("api"),null!=e.api?i():n()}function i(){for(var t in e.api)e.api[t]=e.api[t].replace("%H",Info.head),e.api[t]=e.api[t].replace("%U",Info.uid),e.api[t]=e.api[t].replace("%A",Info.app);NetManager.instance.Init()}function n(){var e=new egret.URLLoader,t=new egret.URLRequest;t.url="http://dev.fcbrains.com/games/family/json/api.json",e.addEventListener(egret.Event.COMPLETE,o,this),e.addEventListener(egret.IOErrorEvent.IO_ERROR,a,this),e.load(t)}function o(t){console.log("~~从dev获取API成功~~"),e.api=JSON.parse(t.target.data.toString()),i()}function a(){console.error("~~从dev获取API失败~~")}e.Init=t}(NetAPI||(NetAPI={}));var NetDetailRank=function(){function e(){this.addData=["Beijing","Tianjin","Shanghai","Chongqing","Hebei","Shanxi","Inner Monglolia","Liaoning","Jilin","Heilongjiang","Jiangsu","Zhejiang","Anhui","Fujian","Jiangxi","Shandong","Henan","Hubei","Hunan","Guangdong","Guangxi","Hainan","Sichuan","Guizhou","Yunnan","Tibet","Shaanxi","Gansu","Qinghai","Ningxia","Xinjiang","Hong Kong","Macao","Taiwan","foreign"],this.playerDetailInfo={sex:"",add:"",age:"",edu:""},this.loadRank=new egret.URLLoader}var t=(__define,e),i=t.prototype;return i.CreateRankType=function(){if(this.rankType=new Array,""!=NetManager.instance.sysTime.year){var e=NetManager.instance.sysTime.year+"/"+NetManager.instance.sysTime.month+"/"+NetManager.instance.sysTime.day,t=Week.getWeek(e),i=Info.app+"_rank_"+t;this.rankType.push(i)}console.log("this.addData",this.addData),""!=this.playerDetailInfo.add&&("Inner Monglolia"==this.playerDetailInfo.add?this.rankType.push(Info.app+"_rank_add_InnerMonglolia"):"Hong Kong"==this.playerDetailInfo.add?this.rankType.push(Info.app+"_rank_add_HongKong"):-1!=this.addData.indexOf(this.playerDetailInfo.add)&&this.rankType.push(Info.app+"_rank_add_"+this.playerDetailInfo.add));for(var n in this.rankType)console.warn("this.rankType:"+n);this.rankTypeJson="[";for(var o=0;o<this.rankType.length;o++)this.rankTypeJson+='"'+this.rankType[o]+'"',o<this.rankType.length-1&&(this.rankTypeJson+=",");this.rankTypeJson+="]",console.warn("this.rankTypeJson:  "+this.rankTypeJson)},i.GetxxbgInfo=function(){console.log("~~正在获取玩家附加信息...");var e=new egret.URLLoader,t=new egret.URLRequest;t.url=NetAPI.api.xxbginfo,e.addEventListener(egret.Event.COMPLETE,this.onPlayerDetailInfoLoadComplete,this),e.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onPlayerDetailInfoLoadError,this),e.load(t)},i.onPlayerDetailInfoLoadComplete=function(e){console.log(e.target.data.toString());var t=JSON.parse(e.target.data.toString());this.playerDetailInfo.sex=Info.sex.toString(),this.playerDetailInfo.add=t.add,this.playerDetailInfo.age=t.age,this.playerDetailInfo.edu=t.edu,(""==this.playerDetailInfo.add||null==this.playerDetailInfo.add)&&(this.playerDetailInfo.add=Info.add),this.CreateRankType(),console.log("add: "+this.playerDetailInfo.add+" age: "+this.playerDetailInfo.age+" edu: "+this.playerDetailInfo.edu+" sex: "+this.playerDetailInfo.sex)},i.onPlayerDetailInfoLoadError=function(){this.playerDetailInfo.sex=Info.sex.toString(),this.playerDetailInfo.add=Info.add,console.error("!!网络连接失败……玩家附加信息获取失败。!!"),MyDebug.MyLog("!!网络连接失败……玩家附加信息获取失败!!"),this.CreateRankType()},i.SubmitPlayerScore=function(e){if(-1==Info.uid.indexOf("error")){var t=new egret.URLRequest(NetAPI.api.multirank);t.method=egret.URLRequestMethod.POST,t.data=new egret.URLVariables("ranknames="+this.rankTypeJson+"&uid="+Info.uid+"&pass="+Info.pass+"&score="+e),console.warn("ranknames="+this.rankTypeJson+"&uid="+Info.uid+"&pass="+Info.pass+"&score="+e),this.loadRank.addEventListener(egret.Event.COMPLETE,this.onSubmitPlayerScoreComplete,this),this.loadRank.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onSubmitPlayerScoreError,this),this.loadRank.load(t),console.log("~~正在上传玩家类别排行分数..."),MyDebug.MyLog("~~正在上传玩家类别排行分数...")}},i.onSubmitPlayerScoreComplete=function(){this.loadRank.removeEventListener(egret.Event.COMPLETE,this.onSubmitPlayerScoreComplete,this),this.loadRank.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.onSubmitPlayerScoreError,this),console.log("~~类别排行数据已上传完成~~"),MyDebug.MyLog("~~类别排行数据已上传完成~~")},i.onSubmitPlayerScoreError=function(){this.loadRank.removeEventListener(egret.Event.COMPLETE,this.onSubmitPlayerScoreComplete,this),this.loadRank.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.onSubmitPlayerScoreError,this),console.error("！！类别排行数据已上传失败！！"),MyDebug.MyLog("!!类别排行数据已上传失败!!")},e.instance=new e,e}();egret.registerClass(NetDetailRank,"NetDetailRank");var NetManager=function(){function e(){this.InfoJson="",this.sysTime={year:"2000",month:"01",day:"01",hour:"11",minute:"59",second:"59"}}var t=(__define,e),i=t.prototype;return i.Init=function(){console.log("uid="+Info.uid+" pass="+Info.pass),null!=NetAPI.api&&"error"!=Info.uid&&(this.onLoadGameNorm(),this.GetFriendUid(),this.GetInfo(),this.GetSysTime())},i.GetFriendUid=function(){function e(){console.log("~~上传用户朋友Uid成功~~")}function t(){console.log("!!上传用户朋友Uid失败!!")}if(null!=localStorage.getItem("zqdn_friend_uid")){Info.fid=localStorage.getItem("zqdn_friend_uid"),localStorage.removeItem("zqdn_friend_uid"),console.log("friendUid: "+Info.fid),DCAgent.onEvent("normal_Sharelink_Enter");var i=new egret.URLLoader,n=new egret.URLRequest(NetAPI.api.addfriend);n.method=egret.URLRequestMethod.POST,n.data=new egret.URLVariables("uid="+Info.uid+"&pass="+Info.pass+"&fuid="+Info.fid),i.addEventListener(egret.Event.COMPLETE,e,this),i.addEventListener(egret.IOErrorEvent.IO_ERROR,t,this),i.load(n),console.log("~~正在上传详细数据...")}},i.GetInfo=function(){null!=localStorage.getItem("zqdn_Info")?(this.InfoJson=localStorage.getItem("zqdn_Info"),console.log("~~本地获取Info~~"),this.PickPlayerDataFromJson()):(console.log("~~网络获取Info~~"),this.ConnectToGetInfo())},i.ConnectToGetInfo=function(){var e=new egret.URLLoader,t=new egret.URLRequest;t.url=NetAPI.api.getginfo,e.addEventListener(egret.Event.COMPLETE,this.onLoadInfoComplete,this),e.addEventListener(egret.IOErrorEvent.IO_ERROR,function(e){console.error("网络连接失败……玩家信息获取失败。")},this),e.load(t)},i.onLoadInfoComplete=function(e){this.InfoJson=e.target.data.toString(),this.PickPlayerDataFromJson(),localStorage.setItem("zqdn_Info",this.InfoJson)},i.PickPlayerDataFromJson=function(){console.log(this.InfoJson);var e=JSON.parse(this.InfoJson);Info.nickname=e.nickname,Info.iconUrl=e.headimgurl,Info.sex=e.sex,Info.add=e.province,console.log("name: "+Info.nickname+" id: "+Info.uid),null==Info.nickname||null==Info.iconUrl?console.log("网络连接失败……玩家信息获取失败。"):(console.log("玩家信息Json解析成功"),this.GetPlayerPic())},i.GetPlayerPic=function(){RES.getResByUrl(Info.iconUrl,this.onGetPicComplete,this,RES.ResourceItem.TYPE_IMAGE)},i.onGetPicComplete=function(e){null!=e&&(Info.icon=e),console.log("~~玩家头像获取完成  "+e+"  "+Info.iconUrl)},i.onLoadGameNorm=function(){function e(e){var t=JSON.parse(e.target.data.toString());isNaN(parseFloat(t.averageScore))||isNaN(parseFloat(t.standardDeviation))||(Info.averageScore=parseFloat(t.averageScore),Info.standardDeviation=parseFloat(t.standardDeviation),console.log("网络获取常模成功  averageScore: "+Info.averageScore+" standardDeviation: "+Info.standardDeviation))}function t(){console.error("！！网络获取常模失败！！")}var i=new egret.URLLoader,n=new egret.URLRequest;n.url=NetAPI.api.norm,i.addEventListener(egret.Event.COMPLETE,e,this),i.addEventListener(egret.IOErrorEvent.IO_ERROR,t,this),i.load(n)},i.SubmitPlayerScore=function(e){if(!isNaN(e)&&(this.submitScore=e,Info.rank="",null!=NetAPI.api&&"error"!=Info.uid)){var t=NetAPI.api.newrank;t=t.replace("%R",Info.app+"_rank");var i=new egret.URLLoader,n=new egret.URLRequest(t);n.method=egret.URLRequestMethod.POST,n.data=new egret.URLVariables("uid="+Info.uid+"&pass="+Info.pass+"&score="+e),i.addEventListener(egret.Event.COMPLETE,this.onPostPlayerScoreComplete,this),i.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onPostPlayerScoreError,this),i.load(n),console.log("~~正在上传玩家分数... "+e),MyDebug.MyLog("~~正在上传玩家分数... "+e)}},i.onPostPlayerScoreComplete=function(e){var t=JSON.parse(e.target.data.toString()),i=parseInt(t.total),n=parseInt(t.rank);console.log(e.target.data.toString()+"all : "+i+" now : "+n),isNaN(i)||isNaN(n)?(console.log("网络获取Json异常……开始本地计算排名..."),MyDebug.MyLog("网络获取Json异常……开始本地计算排名..."),this.CalculateRank(),this.SubmitPlayerDetail()):(1==n?Info.rank="100":Info.rank=((i-1-(n-1))/(i-1)*100).toFixed(2),isNaN(parseFloat(Info.rank))&&(Info.rank="-2"),console.log("~~上传玩家分数、获取用户排名信息完成~~"+e.target.data.toString()+"all : "+i+" now : "+n+" rank: "+Info.rank),this.SubmitPlayerDetail(),NetDetailRank.instance.SubmitPlayerScore(this.submitScore))},i.onPostPlayerScoreError=function(e){this.CalculateRank(),this.SubmitPlayerDetail()},i.CalculateRank=function(){var e=jStat.ztest(this.submitScore,Info.averageScore,Info.standardDeviation,1);GameController.getInstance().data.originalScore>Info.averageScore&&(e=1-e),Info.rank=(100*e).toFixed(2),isNaN(parseFloat(Info.rank))&&(Info.rank="-1"),console.log("原始得分："+this.submitScore+" 平均值："+Info.averageScore+" 标准差："+Info.standardDeviation),console.log("超过百分之"+Info.rank),MyDebug.MyLog("本地计算排行，，超过百分之"+Info.rank)},i.SubmitPlayerDetail=function(){var e=Info.GetData(),t=new egret.URLLoader,i=new egret.URLRequest;i.method=egret.URLRequestMethod.POST,i.url=NetAPI.api.oprecord,i.data=new egret.URLVariables("pass="+Info.pass+"&content="+e),t.addEventListener(egret.Event.COMPLETE,function(e){console.log("~~上传详细数据成功~~")},this),t.addEventListener(egret.IOErrorEvent.IO_ERROR,function(e){console.error("!!网络连接失败……数据未成功上传。!!")},this),t.load(i),console.log("~~正在上传详细数据...")},i.GetIfFollowedServer=function(){console.log("~~正在获取是否 关注公众号~~");var e=new egret.URLLoader,t=new egret.URLRequest;t.url=NetAPI.api.getmpuinfo,e.addEventListener(egret.Event.COMPLETE,this.onFollowedServerComplete,this),e.addEventListener(egret.IOErrorEvent.IO_ERROR,function(e){console.error("！！获取是否 关注公众号失败!!")},this),e.load(t)},i.onFollowedServerComplete=function(e){console.log(e.target.data.toString());var t,i=e.target.data.toString();if(-1!=i.indexOf("head")&&-1!=i.indexOf("body")){var n=i.split("<body>")[1];n=n.split("</body>")[0],n=n.replace(new RegExp("&quot;","g"),'"'),console.log(n),t=JSON.parse(n)}else t=JSON.parse(i);1==t.subscribe?(Info.isLikeServer=!0,console.warn("~~获取是否 关注公众号成功  已关注~~"),MyDebug.MyLog("~~获取是否 关注公众号成功  已关注~~")):(Info.isLikeServer=!1,console.warn("~~获取是否 关注公众号成功  未关注~~"),MyDebug.MyLog("~~获取是否 关注公众号成功  未关注~~"))},i.GetSysTime=function(){console.log("~~正在获取服务器时间..."),MyDebug.MyLog("~~正在获取服务器时间...");var e=new egret.URLLoader,t=new egret.URLRequest;t.url=NetAPI.api.time,e.addEventListener(egret.Event.COMPLETE,this.onSysTimeLoadComplete,this),e.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onSysTimeLoadError,this),e.load(t)},i.onSysTimeLoadComplete=function(e){console.log(e.target.data.toString());var t=JSON.parse(e.target.data.toString()),i=t.time;this.sysTime.year=i.split("/")[0],this.sysTime.month=i.split("/")[1],this.sysTime.day=i.split("/")[2].split(" ")[0],this.sysTime.hour=i.split("/")[2].split(" ")[1].split(":")[0],this.sysTime.minute=i.split("/")[2].split(" ")[1].split(":")[1],this.sysTime.second=i.split("/")[2].split(" ")[1].split(":")[2],console.warn("year:"+this.sysTime.year+" month:"+this.sysTime.month+" day:"+this.sysTime.day+" hour:"+this.sysTime.hour+" minute:"+this.sysTime.minute+" second:"+this.sysTime.second),MyDebug.MyLog("year:"+this.sysTime.year+" month:"+this.sysTime.month+" day:"+this.sysTime.day+" hour:"+this.sysTime.hour+" minute:"+this.sysTime.minute+" second:"+this.sysTime.second),NetDetailRank.instance.GetxxbgInfo()},i.onSysTimeLoadError=function(){console.error("!!获取服务器时间 失败!!"),MyDebug.MyLog("!!获取服务器时间 失败!!"),NetDetailRank.instance.GetxxbgInfo()
},e.instance=new e,e}();egret.registerClass(NetManager,"NetManager");var ShareSDK;!function(e){function t(t){e.title=t,s(),l(),h(),c()}function i(){console.log("initShareSDK"),e.title="最强大脑挑战之51度灰，找的就是你！",g="51度灰，挑战肉眼灰度辨别极限！",e.link="http://"+Info.head+".fcbrains.com/games/"+Info.app+"/index.html?uid="+Info.uid,u="http://"+Info.head+".fcbrains.com/games/"+Info.app+"/img/icon.png",d="http://"+Info.head+".fcbrains.com/"+Info.app+"/mpjsauthinfo",n()}function n(){y=new egret.URLLoader;var e=new egret.URLRequest(d);y.dataFormat=egret.URLLoaderDataFormat.TEXT,e.method=egret.URLRequestMethod.GET,y.addEventListener(egret.Event.CONNECT,o,this),y.addEventListener(egret.Event.COMPLETE,a,this),y.addEventListener(egret.IOErrorEvent.IO_ERROR,function(e){console.error("WeiXin 注入失败!!")},this),y.load(e)}function o(e){console.log("connect")}function a(e){var t=JSON.parse(y.data.toString());console.log(t),m=t.appId,p=t.timestamp,f=t.nonceStr,v=t.signature,r(),s()}function r(){var e=new BodyConfig;e.debug=!1,e.appId=m,e.timestamp=p,e.nonceStr=f,e.signature=v,e.jsApiList=["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","hideMenuItems","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem","translateVoice","startRecord","stopRecord","playVoice","pauseVoice","stopVoice","uploadVoice","downloadVoice","chooseImage","previewImage","uploadImage","downloadImage","getNetworkType","openLocation","getLocation","hideOptionMenu","showOptionMenu","closeWindow","scanQRCode","chooseWXPay","openProductSpecificView","addCard","chooseCard","openCard"],wx.config(e)}function s(){I.title=e.title,I.link=e.link,I.imgUrl=u,I.trigger=function(){},I.success=function(){DCAgent.onEvent("normal_Share_Event")},I.cancel=function(){},I.fail=function(e){},wx.onMenuShareTimeline(I)}function l(){E.title=e.title,E.desc=g,E.link=e.link,E.imgUrl=u,E.trigger=function(){},E.success=function(){DCAgent.onEvent("normal_Share_Event")},E.cancel=function(){},E.fail=function(e){},wx.onMenuShareAppMessage(E)}function h(){L.title=e.title,L.desc=g,L.link=e.link,L.imgUrl=u,L.trigger=function(){},L.complete=function(e){},L.success=function(){DCAgent.onEvent("normal_Share_Event")},L.cancel=function(){},L.fail=function(e){},wx.onMenuShareQQ(L)}function c(){w.title=e.title,w.desc=g,w.link=e.link,w.imgUrl=u,w.trigger=function(){},w.complete=function(e){},w.success=function(){DCAgent.onEvent("normal_Share_Event")},w.cancel=function(){},w.fail=function(e){},wx.onMenuShareWeibo(w)}var d,g,u,m="",f="",p="",v="";e.Update=t,e.init=i;var y,I=new BodyMenuShareTimeline,E=new BodyMenuShareAppMessage,L=new BodyMenuShareQQ,w=new BodyMenuShareWeibo}(ShareSDK||(ShareSDK={}));var UidUrlManager=function(){function e(){}var t=(__define,e);t.prototype;return e.GetCookie=function(e){if(document.cookie.length>0){var t=document.cookie.indexOf(e+"=");if(-1!=t){t=t+e.length+1;var i=document.cookie.indexOf(";",t);-1==i&&(i=document.cookie.length);var n=document.cookie.substring(t,i);return n=n.split('"')[0],void("uid"==e?Info.uid=n:"pass"==e&&(Info.pass=n))}if(null!=localStorage.getItem("zqdn_cookie_uid"))return localStorage.removeItem("zqdn_cookie_uid"),n="error",void("uid"==e?Info.uid=n:"pass"==e&&(Info.pass=n));localStorage.setItem("zqdn_cookie_uid","1")}else{if(null!=localStorage.getItem("zqdn_cookie_uid"))return localStorage.removeItem("zqdn_cookie_uid"),n="error",void("uid"==e?Info.uid=n:"pass"==e&&(Info.pass=n));localStorage.setItem("zqdn_cookie_uid","1")}window.location.href="http://"+Info.head+".fcbrains.com/"+Info.app+"/wxlogin"},e.ChangeURL=function(){var e=window.location.href.toString();if(-1!=e.indexOf("www")?Info.head="www":Info.head="dev",console.log(Info.head),-1!=window.location.href.indexOf("?")||-1!=window.location.href.indexOf("uid")){if(-1!=e.indexOf("uid")){var t=e.split("uid=")[1];-1!=t.indexOf("&")&&(t=t.split("&")[0]),localStorage.setItem("zqdn_friend_uid",t)}return void(window.location.href="http://"+Info.head+".fcbrains.com/games/"+Info.app+"/index.html")}this.GetCookie("uid"),this.GetCookie("pass")},e}();egret.registerClass(UidUrlManager,"UidUrlManager");var Week;!function(e){function t(e){for(var t=new Date(e),n=t.getFullYear(),o=new Date(n+"-01-01"),a=0,r=0;r<t.getMonth();r++)switch(r){case 0:case 2:case 4:case 6:case 7:case 9:a+=31;break;case 1:a+=i(t)?29:28;break;case 3:case 5:case 8:case 10:a+=30}a+=t.getDate();var s=o.getDay(),l=a-(7-s),h=1;return h+=l/7,l%7!=0&&(h+=1),parseInt(h.toString())}function i(e){return 0==e.getFullYear()%4&&(e.getFullYear()%100!=0||e.getFullYear()%400==0)}e.getWeek=t}(Week||(Week={}));var ThemeAdapter=function(){function e(){}var t=(__define,e),i=t.prototype;return i.getTheme=function(e,t,i,n){function o(e){t.call(n,e)}function a(t){t.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,a,null),i.call(n))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,a,null),RES.getResByUrl(e,o,this,RES.ResourceItem.TYPE_TEXT)},e}();egret.registerClass(ThemeAdapter,"ThemeAdapter",["eui.IThemeAdapter"]);var View=function(e){function t(){e.apply(this,arguments)}__extends(t,e);var i=(__define,t),n=i.prototype;return n.show=function(){this.parent||Main.euiLayer.addChild(this)},n.hide=function(){this.parent&&Main.euiLayer.removeChild(this)},t}(eui.Group);egret.registerClass(View,"View");var EndView=function(e){function t(){e.call(this),DialogManager.remove("GameView")}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this),t.m_UI=new EndViewSkin,this.addChild(t.m_UI),Advert.getInstance().ShowAdvert("end")},n.isAndroidAgents=function(){var e=window.navigator.userAgent.toLowerCase();if(""+e.match(/android/i)=="android"){console.log("true");var t="http://www.fcbrains.com/web/kjyx/dl/index.html";window.location.href=t}else{console.log("false");var t="http://www.fcbrains.com/web/kjyx/dl/index.html";window.location.href=t}},n.onClickBtnAnimator=function(e){e.target.touchEnabled=!1;var t=e.currentTarget._source.toString(),i=e.target;i.scaleX=i.scaleY=1,egret.Tween.get(i,{loop:!1}).to({scaleX:1.1,scaleY:1.1},100).to({scaleX:1,scaleY:1},100).call(function(){switch(t){case"tryAgain":this.tryAgain();break;case"more":this.more();break;case"detail":this.detail();break;case"share":this.rankSystem()}},this)},n.tryAgain=function(){console.log("再试一次"),egret.setTimeout(function(){DialogManager.open(GameView,"GameView",1),GameController.getInstance().Init()},this,500)},n.more=function(){console.log("返回首页"),egret.setTimeout(function(){var e="http://"+Info.head+".fcbrains.com/games/zqdn/index.html";window.location.href=e},this,500)},n.detail=function(){console.log("返回潜能分析"),egret.setTimeout(function(){var e="http://"+Info.head+".fcbrains.com/games/fkxt/index.html";window.location.href=e},this,500)},n.rankSystem=function(){console.log("返回排行榜"),egret.setTimeout(function(){var e="http://"+Info.head+".fcbrains.com/games/phxt/index.html";window.location.href=e},this,500)},t}(View);egret.registerClass(EndView,"EndView");var EndViewSkin=function(e){function t(){e.call(this),this.skinName="src/skins/EndSkin.exml"}__extends(t,e);var i=(__define,t),n=i.prototype;return n.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i)},t}(eui.Component);egret.registerClass(EndViewSkin,"EndViewSkin");var GameView=function(e){function t(){e.call(this),DialogManager.remove("EndView")}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this),t.m_UI=new GameViewSkin,this.addChild(t.m_UI),Advert.getInstance().ShowAdvert("game")},t}(View);egret.registerClass(GameView,"GameView");var GameViewSkin=function(e){function t(){e.call(this),this.skinName="src/skins/GameSkin.exml"}__extends(t,e);var i=(__define,t),n=i.prototype;return n.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i)},t}(eui.Component);egret.registerClass(GameViewSkin,"GameViewSkin");var LoadingView=function(e){function t(){e.call(this),this.loadingText=["l","o","a","d","i","n","g","1","2","3"],this.isHide=!1,this.logoLeftAniIndex=0}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this),this.m_UI=new LoadingViewSkin,this.addChild(this.m_UI),console.log(this.m_UI.logo_right),AnchorUtil.setAnchor(this.m_UI.logo_right,.5),this.LoadingAni(),this.LogoLeftAni(),egret.Tween.get(this.m_UI.logo_right,{loop:!0}).to({rotation:360},3e3)},n.LoadingAni=function(){if(!this.isHide){for(var e=0;e<this.loadingText.length;e++)egret.Tween.get(this.m_UI["loading_"+this.loadingText[e]]).wait(300*e).to({y:690},120,egret.Ease.quadOut).wait(60).to({y:705},60,egret.Ease.quintOut);egret.setTimeout(this.LoadingAni,this,300*this.loadingText.length)}},n.LogoLeftAni=function(){this.isHide||(this.logoLeftAniIndex=(this.logoLeftAniIndex+1)%24,this.m_UI.logo_left.source="logo_left.logo_ani_"+this.logoLeftAniIndex,egret.setTimeout(this.LogoLeftAni,this,41.7))},n.LogoGroupAni=function(){},t}(View);egret.registerClass(LoadingView,"LoadingView");var LoadingViewSkin=function(e){function t(){e.call(this),this.skinName="src/skins/LoadingSkin.exml"}__extends(t,e);var i=(__define,t),n=i.prototype;return n.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i)},t}(eui.Component);egret.registerClass(LoadingViewSkin,"LoadingViewSkin");